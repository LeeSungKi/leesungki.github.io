{"version":3,"file":"component---src-templates-blog-template-js-5c64290299c9e4ea0358.js","mappings":"oMAyCA,MArCA,SAAmBA,GAAW,IAAV,KAAEC,GAAM,EAExB,IAAKA,EACD,OACIC,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,eACXD,EAAAA,cAAAA,KAAAA,KAAI,mBAKhB,MAAM,MACFE,EAAQ,QAAO,KACfC,EAAO,GAAE,WACTC,EAAa,GAAE,OACfC,EAAS,GAAE,MACXC,EAAQ,IACRP,EAEJ,OACIC,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,eACXD,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,cAAcK,GAC7BN,EAAAA,cAAAA,KAAAA,CAAIC,UAAU,cAAcC,GAC5BF,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,aACXD,EAAAA,cAAAA,OAAAA,CAAMC,UAAU,eAAeI,GAC/BL,EAAAA,cAAAA,OAAAA,CAAMC,UAAU,aAAaE,IAEjCH,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,mBACVM,MAAMC,QAAQJ,IAAeA,EAAWK,KAAKC,GAC1CV,EAAAA,cAACW,EAAAA,KAAI,CAACV,UAAU,WAAWW,IAAKF,EAAUG,GAAE,UAAYH,GACnDA,QCNzB,MAvBA,SAAsBI,GAAyB,IAAxB,SAAEC,EAAQ,SAAEC,GAAU,EAC3C,OACEhB,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,kBACbD,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,+BACZe,GACChB,EAAAA,cAACW,EAAAA,KAAI,CAACV,UAAU,iBAAiBW,IAAKI,EAASC,GAAIJ,GAAIG,EAASE,MAC9DlB,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,aAAY,QAC3BD,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,SAASe,EAASd,SAIvCF,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,+BACZc,GACCf,EAAAA,cAACW,EAAAA,KAAI,CAACV,UAAU,iBAAiBW,IAAKG,EAASE,GAAIJ,GAAIE,EAASG,MAC9DlB,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,aAAY,QAC3BD,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,SAASc,EAASb,W,UCR7C,MARA,SAAoBiB,GAAW,IAAV,KAAEC,GAAM,EAC3B,OACEpB,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,gBACbD,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,WAAWoB,wBAAyB,CAAEC,OAAQF,OC6BnE,MA9BA,SAAmBG,GAAiB,IAAhB,KAAEC,EAAI,KAAEC,GAAM,EAChC,MAAMC,GAAUC,EAAAA,EAAAA,aACVC,GAAqBC,EAAAA,EAAAA,SAAO,GAyBlC,OAvBAC,EAAAA,EAAAA,YAAU,KACR,IAAKJ,EAAQK,SAAWH,EAAmBG,QAAS,OACpD,MAAMC,EAAmBC,aAAaC,QAAQ,cAExCC,EAAaC,SAASC,cAAc,UACpCC,EAAmB,CACvBC,IAbM,gCAcNf,KAAAA,EACAgB,OAdS,SAeTC,MAAOC,KAAKC,MAAMX,GAAoB,cAAgB,eACtDY,MAAO,UACPC,OAAO,EACP,aAAc,WACdC,YAAa,aAGfC,OAAOC,KAAKV,GAAkBW,SAASC,IACrCf,EAAWgB,aAAaD,EAAWZ,EAAiBY,OAEtDxB,EAAQK,QAAQqB,YAAYjB,GAC5BP,EAAmBG,SAAU,IAC5B,CAACP,EAAME,EAASD,IAEZzB,EAAAA,cAAAA,MAAAA,CAAKC,UAAU,aAAaoD,IAAK3B,KCM1C,MA3BA,SAAqB4B,GAAW,YAAV,KAAEC,GAAM,EAE1B,IAAKA,IAASA,EAAKC,IACf,OACIxD,EAAAA,cAACyD,EAAAA,EAAM,KACHzD,EAAAA,cAAAA,MAAAA,KAAK,oBAKjB,MAAM0D,EAAU,IAAIC,EAAAA,EAAKJ,EAAKC,KACxBzC,EAAWwC,EAAKK,MAAQ,IAAID,EAAAA,EAAKJ,EAAKK,MACtC5C,EAAWuC,EAAKM,MAAQ,IAAIF,EAAAA,EAAKJ,EAAKM,OACtC,QAAEC,EAAO,SAAEC,IAAsB,QAAT,EAAAR,EAAKS,YAAI,aAAT,EAAWC,eAAgB,GACnDC,EAAiBH,MAAAA,GAAoB,QAAZ,EAARA,EAAU5B,kBAAU,WAAZ,EAAR4B,EAAsBvC,KAE7C,OACIxB,EAAAA,cAACyD,EAAAA,EAAM,KACHzD,EAAAA,cAACmE,EAAAA,EAAG,CAACjE,MAAOwD,MAAAA,OAAO,EAAPA,EAASxD,MAAOkE,YAAaV,MAAAA,OAAO,EAAPA,EAASW,UAClDrE,EAAAA,cAACF,EAAU,CAACC,KAAM2D,IAClB1D,EAAAA,cAACmB,EAAW,CAACC,MAAMsC,MAAAA,OAAO,EAAPA,EAAStC,OAAQ,KACpCpB,EAAAA,cAACc,EAAa,CAACC,SAAUA,EAAUC,SAAUA,IAC5CkD,GAAkBlE,EAAAA,cAACuB,EAAU,CAACC,KAAM0C,EAAgBzC,MAAMiC,MAAAA,OAAO,EAAPA,EAASxC,OAAQ","sources":["webpack://leesungki/./src/components/post-header/index.js","webpack://leesungki/./src/components/post-navigator/index.js","webpack://leesungki/./src/components/post-content/index.js","webpack://leesungki/./src/components/utterances/index.js","webpack://leesungki/./src/templates/blog-template.js"],"sourcesContent":["import React from 'react';\r\nimport { Link } from 'gatsby';\r\nimport './style.scss';\r\n\r\nfunction PostHeader({ post }) {\r\n    // post 검증\r\n    if (!post) {\r\n        return (\r\n            <div className=\"post-header\">\r\n                <h1>포스트를 찾을 수 없습니다</h1>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const {\r\n        title = '제목 없음',\r\n        date = '',\r\n        categories = [],\r\n        author = '',\r\n        emoji = ''\r\n    } = post;\r\n\r\n    return (\r\n        <div className=\"post-header\">\r\n            <div className=\"post-emoji\">{emoji}</div>\r\n            <h1 className=\"post-title\">{title}</h1>\r\n            <div className=\"post-meta\">\r\n                <span className=\"post-author\">{author}</span>\r\n                <span className=\"post-date\">{date}</span>\r\n            </div>\r\n            <div className=\"post-categories\">\r\n                {Array.isArray(categories) && categories.map((category) => (\r\n                    <Link className=\"category\" key={category} to={`/posts/${category}`}>\r\n                        {category}\r\n                    </Link>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PostHeader;","import { Link } from 'gatsby';\r\nimport React from 'react';\r\nimport './style.scss';\r\n\r\nfunction PostNavigator({ prevPost, nextPost }) {\r\n  return (\r\n    <div className=\"post-navigator\">\r\n      <div className=\"post-navigator-card-wrapper\">\r\n        {nextPost && (\r\n          <Link className=\"post-card prev\" key={nextPost.id} to={nextPost.slug}>\r\n            <div className=\"direction\">이전 글</div>\r\n            <div className=\"title\">{nextPost.title}</div>\r\n          </Link>\r\n        )}\r\n      </div>\r\n      <div className=\"post-navigator-card-wrapper\">\r\n        {prevPost && (\r\n          <Link className=\"post-card next\" key={prevPost.id} to={prevPost.slug}>\r\n            <div className=\"direction\">다음 글</div>\r\n            <div className=\"title\">{prevPost.title}</div>\r\n          </Link>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostNavigator;\r\n","import React from 'react';\r\nimport './style.scss';\r\n\r\nfunction PostContent({ html }) {\r\n  return (\r\n    <div className=\"post-content\">\r\n      <div className=\"markdown\" dangerouslySetInnerHTML={{ __html: html }} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostContent;\r\n","import React, { createRef, useEffect, useRef } from 'react';\r\n\r\nconst src = 'https://utteranc.es/client.js';\r\nconst branch = 'master';\r\n\r\nfunction Utterances({ repo, path }) {\r\n  const rootElm = createRef();\r\n  const isUtterancesLoaded = useRef(false);\r\n\r\n  useEffect(() => {\r\n    if (!rootElm.current || isUtterancesLoaded.current) return;\r\n    const storedIsDarkMode = localStorage.getItem('isDarkMode');\r\n\r\n    const utterances = document.createElement('script');\r\n    const utterancesConfig = {\r\n      src,\r\n      repo,\r\n      branch,\r\n      theme: JSON.parse(storedIsDarkMode) ? 'photon-dark' : 'github-light',\r\n      label: 'comment',\r\n      async: true,\r\n      'issue-term': 'pathname',\r\n      crossorigin: 'anonymous',\r\n    };\r\n\r\n    Object.keys(utterancesConfig).forEach((configKey) => {\r\n      utterances.setAttribute(configKey, utterancesConfig[configKey]);\r\n    });\r\n    rootElm.current.appendChild(utterances);\r\n    isUtterancesLoaded.current = true;\r\n  }, [repo, rootElm, path]);\r\n\r\n  return <div className=\"utterances\" ref={rootElm} />;\r\n}\r\n\r\nexport default Utterances;\r\n","\r\nimport React from 'react';\r\nimport { graphql } from 'gatsby';\r\nimport Layout from '../layout';\r\nimport Seo from '../components/seo';\r\nimport PostHeader from '../components/post-header';\r\nimport PostNavigator from '../components/post-navigator';\r\nimport Post from '../models/post';\r\nimport PostContent from '../components/post-content';\r\nimport Utterances from '../components/utterances';\r\n\r\nfunction BlogTemplate({ data }) {\r\n    // data가 null이거나 undefined인 경우 방어\r\n    if (!data || !data.cur) {\r\n        return (\r\n            <Layout>\r\n                <div>포스트를 찾을 수 없습니다.</div>\r\n            </Layout>\r\n        );\r\n    }\r\n\r\n    const curPost = new Post(data.cur);\r\n    const prevPost = data.prev && new Post(data.prev);\r\n    const nextPost = data.next && new Post(data.next);\r\n    const { siteUrl, comments } = data.site?.siteMetadata || {};\r\n    const utterancesRepo = comments?.utterances?.repo;\r\n\r\n    return (\r\n        <Layout>\r\n            <Seo title={curPost?.title} description={curPost?.excerpt} />\r\n            <PostHeader post={curPost} />\r\n            <PostContent html={curPost?.html || ''} />\r\n            <PostNavigator prevPost={prevPost} nextPost={nextPost} />\r\n            {utterancesRepo && <Utterances repo={utterancesRepo} path={curPost?.slug || ''} />}\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default BlogTemplate;\r\n\r\nexport const pageQuery = graphql`\r\n  query($slug: String, $nextSlug: String, $prevSlug: String) {\r\n    cur: markdownRemark(fields: { slug: { eq: $slug } }) {\r\n      id\r\n      html\r\n      excerpt(pruneLength: 500, truncate: true)\r\n      frontmatter {\r\n        date(formatString: \"MMMM DD, YYYY\")\r\n        title\r\n        categories\r\n        author\r\n        emoji\r\n      }\r\n      fields {\r\n        slug\r\n      }\r\n    }\r\n\r\n    next: markdownRemark(fields: { slug: { eq: $nextSlug } }) {\r\n      id\r\n      html\r\n      frontmatter {\r\n        date(formatString: \"MMMM DD, YYYY\")\r\n        title\r\n        categories\r\n        author\r\n        emoji\r\n      }\r\n      fields {\r\n        slug\r\n      }\r\n    }\r\n\r\n    prev: markdownRemark(fields: { slug: { eq: $prevSlug } }) {\r\n      id\r\n      html\r\n      frontmatter {\r\n        date(formatString: \"MMMM DD, YYYY\")\r\n        title\r\n        categories\r\n        author\r\n        emoji\r\n      }\r\n      fields {\r\n        slug\r\n      }\r\n    }\r\n\r\n    site {\r\n      siteMetadata {\r\n        siteUrl\r\n        comments {\r\n          utterances {\r\n            repo\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;"],"names":["PostHeader","post","React","className","title","date","categories","author","emoji","Array","isArray","map","category","Link","key","to","PostNavigator","prevPost","nextPost","id","slug","PostContent","html","dangerouslySetInnerHTML","__html","Utterances","repo","path","rootElm","createRef","isUtterancesLoaded","useRef","useEffect","current","storedIsDarkMode","localStorage","getItem","utterances","document","createElement","utterancesConfig","src","branch","theme","JSON","parse","label","async","crossorigin","Object","keys","forEach","configKey","setAttribute","appendChild","ref","BlogTemplate","data","cur","Layout","curPost","Post","prev","next","siteUrl","comments","site","siteMetadata","utterancesRepo","Seo","description","excerpt"],"sourceRoot":""}